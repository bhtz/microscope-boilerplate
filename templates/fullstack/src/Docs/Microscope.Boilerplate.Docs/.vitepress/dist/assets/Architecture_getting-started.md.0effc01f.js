import{_ as s,o as a,c as o,X as e}from"./chunks/framework.4ab75e15.js";const A=JSON.parse('{"title":"Getting started","description":"","frontmatter":{},"headers":[],"relativePath":"Architecture/getting-started.md","filePath":"Architecture/getting-started.md"}'),n={name:"Architecture/getting-started.md"},l=e(`<h1 id="getting-started" tabindex="-1">Getting started <a class="header-anchor" href="#getting-started" aria-label="Permalink to &quot;Getting started&quot;">​</a></h1><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><ul><li>dotnet 7 SDK</li><li>nodejs 16+</li><li>docker engine</li></ul><h2 id="get-source-code" tabindex="-1">Get source code <a class="header-anchor" href="#get-source-code" aria-label="Permalink to &quot;Get source code&quot;">​</a></h2><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/bhtz/microscope-boilerplate.git</span></span></code></pre></div><h2 id="install-microscope-boilerplate-template" tabindex="-1">Install microscope boilerplate template <a class="header-anchor" href="#install-microscope-boilerplate-template" aria-label="Permalink to &quot;Install microscope boilerplate template&quot;">​</a></h2><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./microscope-boilerplate</span></span></code></pre></div><h2 id="create-new-solution" tabindex="-1">Create new solution <a class="header-anchor" href="#create-new-solution" aria-label="Permalink to &quot;Create new solution&quot;">​</a></h2><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">microscope_boilerplate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Acme.AwesomeProject</span></span></code></pre></div><h2 id="create-new-solution-without-documentation-project" tabindex="-1">Create new solution without documentation project <a class="header-anchor" href="#create-new-solution-without-documentation-project" aria-label="Permalink to &quot;Create new solution without documentation project&quot;">​</a></h2><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">microscope_boilerplate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Acme.AwesomeProject</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">false</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="build" tabindex="-1">Build <a class="header-anchor" href="#build" aria-label="Permalink to &quot;Build&quot;">​</a></h2><p><strong>Build solution</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span></span></code></pre></div><p><strong>Build solution containers</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">publish</span></span></code></pre></div><p><strong>Build solution containers for arm64</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">publish</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">linux-arm64</span></span></code></pre></div><h2 id="run-solution" tabindex="-1">Run solution <a class="header-anchor" href="#run-solution" aria-label="Permalink to &quot;Run solution&quot;">​</a></h2><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/IAC/Docker</span></span>
<span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span></span></code></pre></div><h2 id="register-iam-application-client" tabindex="-1">Register IAM application client <a class="header-anchor" href="#register-iam-application-client" aria-label="Permalink to &quot;Register IAM application client&quot;">​</a></h2><ul><li>open <a href="http://localhost:8083/auth/" target="_blank" rel="noreferrer">Keycloak console</a></li><li>Login as admin <ul><li>user : admin</li><li>password : microscope <ul><li>Don&#39;t forget to change this default setting</li></ul></li></ul></li><li>Go to import &gt; select file &gt; ./src/IAC/realm-export.json</li></ul><h2 id="go-to-app" tabindex="-1">Go to app <a class="header-anchor" href="#go-to-app" aria-label="Permalink to &quot;Go to app&quot;">​</a></h2><ul><li>open <a href="http://localhost:5215/" target="_blank" rel="noreferrer">Boilerplate app</a></li></ul><h2 id="documentation" tabindex="-1">Documentation <a class="header-anchor" href="#documentation" aria-label="Permalink to &quot;Documentation&quot;">​</a></h2><p><strong>Build documentation</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/Docs</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docs:build</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">slides:build</span></span></code></pre></div><h3 id="run-solution-documentation-vitepress" tabindex="-1">Run solution documentation (vitepress) <a class="header-anchor" href="#run-solution-documentation-vitepress" aria-label="Permalink to &quot;Run solution documentation (vitepress)&quot;">​</a></h3><p><strong>Install NPM packages</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./src/Docs</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span></span></code></pre></div><p><strong>run documentation website</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docs:dev</span></span></code></pre></div><h3 id="run-presentation-slides-revealjs" tabindex="-1">Run presentation slides (revealjs) <a class="header-anchor" href="#run-presentation-slides-revealjs" aria-label="Permalink to &quot;Run presentation slides (revealjs)&quot;">​</a></h3><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">slides:dev</span></span></code></pre></div><h2 id="solution" tabindex="-1">Solution <a class="header-anchor" href="#solution" aria-label="Permalink to &quot;Solution&quot;">​</a></h2><h3 id="environments" tabindex="-1">Environments <a class="header-anchor" href="#environments" aria-label="Permalink to &quot;Environments&quot;">​</a></h3><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> ASPNETCORE_ENVIRONMENT</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">Development</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> ASPNETCORE_ENVIRONMENT</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">Production</span></span></code></pre></div><h3 id="sdk-generation" tabindex="-1">SDK generation <a class="header-anchor" href="#sdk-generation" aria-label="Permalink to &quot;SDK generation&quot;">​</a></h3><p>you will need to run todoapp api first for this</p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/Clients/SDK/Microscope.Boilerplate.Clients.SDK.GraphQL</span></span>
<span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">graphql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span></span></code></pre></div><h3 id="ef-core-tools" tabindex="-1">EF Core Tools <a class="header-anchor" href="#ef-core-tools" aria-label="Permalink to &quot;EF Core Tools&quot;">​</a></h3><p><strong>Navigate to infrastructure project</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/Services/TodoApp/Infrastructure/Microscope.Boilerplate.Services.TodoApp.Infrastructure/</span></span></code></pre></div><p>cd src/Clients/SDK/Microscope.Boilerplate.Clients.SDK.GraphQL <strong>Add migration</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ef</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--startup-project</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">../../Interface/Microscope.Boilerplate.Services.TodoApp.Api/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">migrations</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">InitialCreate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./Persistence/Migrations</span></span></code></pre></div><p><strong>Update database</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ef</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--startup-project</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">../../Interface/Microscope.Boilerplate.Services.TodoApp.Api/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span></code></pre></div><p><strong>Export SQL</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">dotnet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ef</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--startup-project</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">../../Interface/Microscope.Boilerplate.Services.TodoApp.Api/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">migrations</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./Scripts/TodoApp.sql</span></span></code></pre></div><h3 id="iac-experimental" tabindex="-1">IAC (experimental) <a class="header-anchor" href="#iac-experimental" aria-label="Permalink to &quot;IAC (experimental)&quot;">​</a></h3><p><strong>Install Pulumi &amp; Azure CLI</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">azure-cli</span></span>
<span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pulumi/tap/pulumi</span></span></code></pre></div><p><strong>Azure CLI login</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">az</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">login</span></span></code></pre></div><p><strong>Set azure location (optional)</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./src/IAC/Pulumi/Microscope.Boilerplate.IAC</span></span>
<span class="line"><span style="color:#FFCB6B;">pulumi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">azure-native:location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">westus2</span></span></code></pre></div><p><strong>Deploy stack on Azure</strong></p><div class="language-console"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pulumi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span></span></code></pre></div>`,58),t=[l];function p(c,r,i,C,d,u){return a(),o("div",null,t)}const h=s(n,[["render",p]]);export{A as __pageData,h as default};

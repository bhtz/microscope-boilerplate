@page "/TodoList"
@using Microscope.Boilerplate.Clients.SDK.GraphQL
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]

<PageTitle>Todo lists</PageTitle>
<MudText Typo="Typo.h6"><b>Todo lists</b></MudText>
<UseGetTodolists Context="result">
    <ChildContent>
        <ul>
            @foreach (var todolist in @result.Todolists)
            {
                <li>@todolist.Name</li>
            }
        </ul>
    </ChildContent>
    <ErrorContent>
        Something went wrong ...<br />
        @result.First().Message
    </ErrorContent>
    <LoadingContent>
        Loading ...
    </LoadingContent>
</UseGetTodolists>
